@using SpecIFicator.Framework.Configuration
@using SpecIFicator.Framework.CascadingValues
@if (DataContext.HierarchyViewModel.LinearResourceList != null)
{
    foreach(HierarchyViewModel item in DataContext.HierarchyViewModel.LinearResourceList)
    {
        Type itemType = DynamicConfigurationManager.GetComponentType("DocumentItem",
                                                                     GetType().FullName,
                                                                     item.RootResourceClassKey);

        if(itemType != null)
        {
            HierarchyEditorContext itemDataContext = new HierarchyEditorContext();
            itemDataContext.HierarchyViewModel = item;

            <CascadingValue Value="@itemDataContext">
                <DynamicComponent Type="@itemType"></DynamicComponent>
            </CascadingValue>
        }
        else
        {
            <strong>Item type not found.</strong>
        }
    }
}
